\hypertarget{class_om_web_server}{}\doxysection{Om\+Web\+Server Class Reference}
\label{class_om_web_server}\index{OmWebServer@{OmWebServer}}


Manages wifi connection, and forwarding http requests to a handler, typically \mbox{\hyperlink{class_om_web_pages}{Om\+Web\+Pages}}.  




{\ttfamily \#include $<$Om\+Web\+Server.\+h$>$}

Inheritance diagram for Om\+Web\+Server\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_om_web_server}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_om_web_server_ad97ef36855c4c5dfa6953fba6adc4382}\label{class_om_web_server_ad97ef36855c4c5dfa6953fba6adc4382}} 
{\bfseries Om\+Web\+Server} (int port=80)
\item 
\mbox{\Hypertarget{class_om_web_server_a3f708593056a71fc175387cf90db026b}\label{class_om_web_server_a3f708593056a71fc175387cf90db026b}} 
void \mbox{\hyperlink{class_om_web_server_a3f708593056a71fc175387cf90db026b}{set\+Verbose}} (int verbose)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_om_web_server}{Om\+Web\+Server}} by default prints much status to serial; set to 0 to cut that out. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_om_web_server_af1032fcedfcb4fa29937bf9507f1f444}{set\+Access\+Point}} (String ssid, String password)
\item 
\mbox{\Hypertarget{class_om_web_server_af966236baac8d83c71d5b794bf13f702}\label{class_om_web_server_af966236baac8d83c71d5b794bf13f702}} 
void \mbox{\hyperlink{class_om_web_server_af966236baac8d83c71d5b794bf13f702}{add\+Wifi}} (String ssid, String password)
\begin{DoxyCompactList}\small\item\em add to the list of known networks to try. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_om_web_server_a81582ee32ff45e37d051cedaf1366175}{clear\+Wifis}} ()
\begin{DoxyCompactList}\small\item\em reset the list of known networks to try, to empty again. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_ac1ca4cd29fbb1511b90a24f77ce05ee1}\label{class_om_web_server_ac1ca4cd29fbb1511b90a24f77ce05ee1}} 
void \mbox{\hyperlink{class_om_web_server_ac1ca4cd29fbb1511b90a24f77ce05ee1}{set\+Bonjour\+Name}} (String bonjour\+Name)
\begin{DoxyCompactList}\small\item\em advertises on local network as bonjour\+Name.\+local \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_a9f4799252ac44d0c5660b5b33e9c310b}\label{class_om_web_server_a9f4799252ac44d0c5660b5b33e9c310b}} 
String \mbox{\hyperlink{class_om_web_server_a9f4799252ac44d0c5660b5b33e9c310b}{get\+Bonjour\+Name}} ()
\begin{DoxyCompactList}\small\item\em get the current bonjour name \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_a09c2072213fc2e2160a89e6fe5242759}\label{class_om_web_server_a09c2072213fc2e2160a89e6fe5242759}} 
void {\bfseries set\+Handler} (Om\+Request\+Handler request\+Handler)
\item 
\mbox{\Hypertarget{class_om_web_server_aa90899ca5231ecce1e210f89ba45c5b2}\label{class_om_web_server_aa90899ca5231ecce1e210f89ba45c5b2}} 
void \mbox{\hyperlink{class_om_web_server_aa90899ca5231ecce1e210f89ba45c5b2}{set\+Handler}} (\mbox{\hyperlink{class_om_web_pages}{Om\+Web\+Pages}} \&request\+Handler)
\begin{DoxyCompactList}\small\item\em Introduce an \mbox{\hyperlink{class_om_web_pages}{Om\+Web\+Pages}} to the server, done and done! \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_ac7bfb8f01558b7e2a79a4efa6370a602}\label{class_om_web_server_ac7bfb8f01558b7e2a79a4efa6370a602}} 
void \mbox{\hyperlink{class_om_web_server_ac7bfb8f01558b7e2a79a4efa6370a602}{set\+Status\+Callback}} (Om\+Connection\+Status status\+Callback)
\begin{DoxyCompactList}\small\item\em receive notifications of changes to wifi status \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_ad4df58423d0ab1baa8b7e81a66364bdd}\label{class_om_web_server_ad4df58423d0ab1baa8b7e81a66364bdd}} 
void \mbox{\hyperlink{class_om_web_server_ad4df58423d0ab1baa8b7e81a66364bdd}{set\+Ntp}} (\mbox{\hyperlink{class_om_ntp}{Om\+Ntp}} $\ast$ntp)
\begin{DoxyCompactList}\small\item\em Introduce an N\+TP object to the server. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_a9be95b8b3c1126d4204fe4ac1c8e70e1}\label{class_om_web_server_a9be95b8b3c1126d4204fe4ac1c8e70e1}} 
void \mbox{\hyperlink{class_om_web_server_a9be95b8b3c1126d4204fe4ac1c8e70e1}{set\+Port}} (int port)
\begin{DoxyCompactList}\small\item\em defaults to 80 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_a86c122038357120cf555fb918e655676}\label{class_om_web_server_a86c122038357120cf555fb918e655676}} 
void \mbox{\hyperlink{class_om_web_server_a86c122038357120cf555fb918e655676}{set\+Status\+Led\+Pin}} (int status\+Led\+Pin)
\begin{DoxyCompactList}\small\item\em changes or disables the blinking status L\+ED. Use -\/1 to disable. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_affa04e293a9dd241e7e57b429f5494d8}\label{class_om_web_server_affa04e293a9dd241e7e57b429f5494d8}} 
void {\bfseries end} ()
\item 
\mbox{\Hypertarget{class_om_web_server_ab6cacf1f7e6a72e75f5666572f64616e}\label{class_om_web_server_ab6cacf1f7e6a72e75f5666572f64616e}} 
void \mbox{\hyperlink{class_om_web_server_ab6cacf1f7e6a72e75f5666572f64616e}{glitch}} (int k)
\begin{DoxyCompactList}\small\item\em simulate a network trouble. 1==disconnect the wifi \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_om_web_server_ae248e6438e02cc4924da3f4c3fd9496e}{tick}} ()
\begin{DoxyCompactList}\small\item\em You must call this in loop() to give time to run. This allows networks to be joined and rejoined, and is when requests are served. Call it often! return the number of requests handled, if any. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_ad09c91044ec5a48e12e0900c8f5fa061}\label{class_om_web_server_ad09c91044ec5a48e12e0900c8f5fa061}} 
const char $\ast$ {\bfseries get\+Ssid} ()
\item 
\mbox{\Hypertarget{class_om_web_server_a1e4be9a1a35137a1bf57a4db8abe3865}\label{class_om_web_server_a1e4be9a1a35137a1bf57a4db8abe3865}} 
int {\bfseries get\+Port} ()
\item 
\mbox{\Hypertarget{class_om_web_server_ae0c4cae147baa7e75785ae48132f0534}\label{class_om_web_server_ae0c4cae147baa7e75785ae48132f0534}} 
unsigned int {\bfseries get\+Ip} ()
\item 
\mbox{\Hypertarget{class_om_web_server_a84b714a09b32a883bba171655f20e3d6}\label{class_om_web_server_a84b714a09b32a883bba171655f20e3d6}} 
int {\bfseries get\+Client\+Port} ()
\item 
\mbox{\Hypertarget{class_om_web_server_a94750ebfb4c3f36ffb111107c206e070}\label{class_om_web_server_a94750ebfb4c3f36ffb111107c206e070}} 
unsigned int {\bfseries get\+Client\+Ip} ()
\item 
\mbox{\Hypertarget{class_om_web_server_a7388549be3b9a5799a5b0f5b6b7d5fd9}\label{class_om_web_server_a7388549be3b9a5799a5b0f5b6b7d5fd9}} 
unsigned int {\bfseries get\+Ticks} ()
\item 
\mbox{\Hypertarget{class_om_web_server_a7c666106a42844fbc9a18ed8f96d285b}\label{class_om_web_server_a7c666106a42844fbc9a18ed8f96d285b}} 
bool \mbox{\hyperlink{class_om_web_server_a7c666106a42844fbc9a18ed8f96d285b}{is\+Wifi\+Connected}} ()
\begin{DoxyCompactList}\small\item\em is it? \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_a3b0b49ea906b5c2d7f81ec4d5d371c54}\label{class_om_web_server_a3b0b49ea906b5c2d7f81ec4d5d371c54}} 
long long \mbox{\hyperlink{class_om_web_server_a3b0b49ea906b5c2d7f81ec4d5d371c54}{uptime\+Millis}} ()
\begin{DoxyCompactList}\small\item\em arduino\textquotesingle{}s millis() will overflow after 50 days. Not this baby. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_ae955fa24137c2019253ddc80239a8a0f}\label{class_om_web_server_ae955fa24137c2019253ddc80239a8a0f}} 
bool \mbox{\hyperlink{class_om_web_server_ae955fa24137c2019253ddc80239a8a0f}{put}} (uint8\+\_\+t) override
\begin{DoxyCompactList}\small\item\em emit a single byte, overridden by any implementation \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_om_web_server_ac623617ae8e55eed637b778374b0bf1f}\label{class_om_web_server_ac623617ae8e55eed637b778374b0bf1f}} 
bool {\bfseries done} () override
\item 
\mbox{\Hypertarget{class_om_web_server_adade0ef5be97c0585c460d4d4245e5ba}\label{class_om_web_server_adade0ef5be97c0585c460d4d4245e5ba}} 
bool {\bfseries put} (const char $\ast$s)
\item 
\mbox{\Hypertarget{class_om_web_server_a5d7b292f14c5113edc5126be432dee94}\label{class_om_web_server_a5d7b292f14c5113edc5126be432dee94}} 
bool {\bfseries put} (uint8\+\_\+t $\ast$d, int size)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Manages wifi connection, and forwarding http requests to a handler, typically \mbox{\hyperlink{class_om_web_pages}{Om\+Web\+Pages}}. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_om_web_server_a81582ee32ff45e37d051cedaf1366175}\label{class_om_web_server_a81582ee32ff45e37d051cedaf1366175}} 
\index{OmWebServer@{OmWebServer}!clearWifis@{clearWifis}}
\index{clearWifis@{clearWifis}!OmWebServer@{OmWebServer}}
\doxysubsubsection{\texorpdfstring{clearWifis()}{clearWifis()}}
{\footnotesize\ttfamily void Om\+Web\+Server\+::clear\+Wifis (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



reset the list of known networks to try, to empty again. 

empty the wifis list. \mbox{\Hypertarget{class_om_web_server_af1032fcedfcb4fa29937bf9507f1f444}\label{class_om_web_server_af1032fcedfcb4fa29937bf9507f1f444}} 
\index{OmWebServer@{OmWebServer}!setAccessPoint@{setAccessPoint}}
\index{setAccessPoint@{setAccessPoint}!OmWebServer@{OmWebServer}}
\doxysubsubsection{\texorpdfstring{setAccessPoint()}{setAccessPoint()}}
{\footnotesize\ttfamily void Om\+Web\+Server\+::set\+Access\+Point (\begin{DoxyParamCaption}\item[{String}]{ssid,  }\item[{String}]{password }\end{DoxyParamCaption})}

must be set before begin(), and cannot be revoked. Creates a wifi network access point with the name shown. You\textquotesingle{}ll have to communicate the IP address to the user by your own means, on screen display or something. set \char`\"{}\char`\"{} for no access point. N\+O\+TE\+: 2019-\/12-\/14 works sometimes. I dont highly recommend. \+:( \mbox{\Hypertarget{class_om_web_server_ae248e6438e02cc4924da3f4c3fd9496e}\label{class_om_web_server_ae248e6438e02cc4924da3f4c3fd9496e}} 
\index{OmWebServer@{OmWebServer}!tick@{tick}}
\index{tick@{tick}!OmWebServer@{OmWebServer}}
\doxysubsubsection{\texorpdfstring{tick()}{tick()}}
{\footnotesize\ttfamily int Om\+Web\+Server\+::tick (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



You must call this in loop() to give time to run. This allows networks to be joined and rejoined, and is when requests are served. Call it often! return the number of requests handled, if any. 

call this in loop to give time to run. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/Om\+Web\+Server.\+h\item 
src/Om\+Web\+Server.\+cpp\end{DoxyCompactItemize}
